<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task & Repair Management</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.2.0/flowbite.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body class="bg-gray-50">
    <div class="container mx-auto px-4 py-8">
        <div class="max-w-4xl mx-auto bg-white rounded-lg shadow-lg p-6">
            <h1 class="text-2xl font-bold text-gray-800 mb-6">Asignar Reparaciones</h1>
            
            <form id="taskForm" class="space-y-6">
                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2" for="mechanic">Selecciona Mecanico</label>
                        <select id="mechanic" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500" required>
                            <option value="">Selecciona Mecanico</option>
                           
                        </select>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2" for="license-plate">Placa del Vehiculo</label>
                        <div class="flex space-x-2">
                            <input type="text" id="license-plate" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Ingresa placa del vehiculo" required>
                            <button type="button" id="searchVehicle" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                    </div>

                    <div id="vehicleInfoContainer" class="hidden md:col-span-2 bg-gray-50 p-4 rounded-lg">
                        <h3 class="text-lg font-semibold text-gray-800 mb-3">Informacion del Vehiculo</h3>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Modelo del vehiculo</label>
                                <div id="vehicle-model" class="px-4 py-2 bg-white border border-gray-200 rounded-md text-gray-700">


                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Ano del vehiculo</label>
                                <div id="vehicle-year" class="px-4 py-2 bg-white border border-gray-200 rounded-md text-gray-700">


                                </div>
                            </div>
                        </div>
                        <div id="errorMessages" class="mt-4 text-red-600 text-sm hidden">
                
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2" for="deadline">Fecha de inicio</label>
                        <input type="datetime-local" id="deadline" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500" required>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2" for="estimated-completion">Fecha estimada de finalizaci√≥n</label>
                        <input type="datetime-local" id="estimated-completion" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500" required>
                    </div>
                </div>

                <div class="space-y-4">
                    <label class="block text-sm font-medium text-gray-700">Categorias de las tareas</label>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                        <div class="space-y-2">
                            <label class="flex items-center space-x-2 group relative cursor-pointer" title="Includes electrical system repairs, wiring, and battery services">
                                <input type="checkbox" class="w-4 h-4 text-blue-600 rounded focus:ring-blue-500" onchange="toggleTextarea('electrical-textarea')">
                                <span>Electrico</span>
                                <div class="invisible group-hover:visible absolute bottom-full left-0 mb-2 p-2 bg-gray-800 text-white text-xs rounded shadow-lg w-48">Sistemas electricos, cableado, servicios de bateria</div>
                            </label>
                            <textarea id="electrical-textarea" class="hidden w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Ingrese detalles" rows="3"></textarea>
                        </div>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-2 group relative cursor-pointer" title="Includes engine repairs, transmission work, and brake services">
                                <input type="checkbox" class="w-4 h-4 text-blue-600 rounded focus:ring-blue-500" onchange="toggleTextarea('mechanical-textarea')">
                                <span>Mecanica</span>
                                <div class="invisible group-hover:visible absolute bottom-full left-0 mb-2 p-2 bg-gray-800 text-white text-xs rounded shadow-lg w-48"> Reparaciones de motor, trabajos de transmision, y servicios de freno</div>
                            </label>
                            <textarea id="mechanical-textarea" class="hidden w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Ingrese detalles" rows="3"></textarea>
                        </div>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-2 group relative cursor-pointer" title="Includes fluid systems and radiator repairs">
                                <input type="checkbox" class="w-4 h-4 text-blue-600 rounded focus:ring-blue-500" onchange="toggleTextarea('plumbing-textarea')">
                                <span>Tuberias</span>
                                <div class="invisible group-hover:visible absolute bottom-full left-0 mb-2 p-2 bg-gray-800 text-white text-xs rounded shadow-lg w-48">Sistema de fluidos y reparaciones del radiador</div>
                            </label>
                            <textarea id="plumbing-textarea" class="hidden w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Ingrese detalles" rows="3"></textarea>
                        </div>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-2 group relative cursor-pointer" title="Includes heating, ventilation, and air conditioning services">
                                <input type="checkbox" class="w-4 h-4 text-blue-600 rounded focus:ring-blue-500" onchange="toggleTextarea('hvac-textarea')">
                                <span>Aire Acondicionado</span>
                                <div class="invisible group-hover:visible absolute bottom-full left-0 mb-2 p-2 bg-gray-800 text-white text-xs rounded shadow-lg w-48">Calefaccion, ventilacion, y servicios del aire acondicionado</div>
                            </label>
                            <textarea id="hvac-textarea" class="hidden w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Ingrese detalles" rows="3"></textarea>
                        </div>
                    </div>
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2" for="priority">Prioridad</label>
                    <select id="priority" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500" required>
                        <option value="low">Baja</option>
                        <option value="medium">Mediana</option>
                        <option value="high">Alta</option>
                      
                    </select>
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2" for="instructions">Descripcion</label>
                    <textarea id="instructions" rows="4" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Enter any special instructions or notes"></textarea>
                </div>

                <div class="bg-gray-100 p-4 rounded-md">
                    <h2 class="text-lg font-semibold text-gray-800 mb-2">Current Repair Status</h2>
                    <div class="flex items-center space-x-2">
                        <span class="inline-block w-3 h-3 bg-yellow-400 rounded-full"></span>
                        <span class="text-sm font-medium text-gray-700">In Progress</span>
                    </div>
                    <p class="text-sm text-gray-600 mt-2">Last updated: 2 hours ago</p>
                </div>

                <div class="flex justify-end space-x-4">
                    <button type="reset" class="px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500">Limpiar</button>
                    <button type="submit" class="px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500">Asignar Tarea</button>
                </div>
            </form>

          

            <!-- New Active Repairs Table Section -->
            <div class="mt-8">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">Reparaciones Activas</h2>
                <div class="overflow-x-auto">
                    <table class="min-w-full bg-white border border-gray-200 rounded-lg">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ID</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Placa</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Mecanico</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Categoria</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Prioridad</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Tiempo</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Estatus</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-200">
                        
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script src="./reparaciones.js"></script>

</body>
</html>