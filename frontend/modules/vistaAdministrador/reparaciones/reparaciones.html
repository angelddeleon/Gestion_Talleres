<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task & Repair Management</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.2.0/flowbite.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body class="bg-gray-50">
    <div class="container mx-auto px-8 py-8">

        <div class="flex max-w-6xl mx-auto p-6">
            <div class="bg-white mr-4 p-2 shadow-sm rounded-lg">
                <a href="../index.html">
                    <svg class="mt-4 h-8" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="size-6">
                        <path strokeLinecap="round" strokeLinejoin="round" d="m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
                    </svg>
                </a>
                
            </div>

            <h1 class="shadow-sm flex-1 bg-white rounded-lg  p-6 text-2xl font-bold text-gray-800">Reparaciones</h1>
        </div>


        <div class="max-w-6xl mx-auto bg-white rounded-lg shadow-lg p-6">
            <h1 class="text-2xl font-bold text-gray-800 mb-6">Asignar Reparaciones</h1>
            
            <form id="taskForm" class="space-y-6">
                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2" for="mechanic">Selecciona Modo</label>
                        <select id="mode" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500" required>
                            <option value="">Selecciona Opcion</option>
                            <option value="reparacion">Reparacion</option>
                            <option value="revision">Revision</option>
                            <option value="mantenimiento">Mantenimiento</option>
                           
                        </select>
                    </div>

                   
                        <div class="relative">
                            <label for="license-plate" class="block text-sm font-medium text-gray-700 mb-2">Selecciona Vehiculo</label>
                            <div class="relative">
                                <select id="license-plate" name="license-plate" class="w-full px-4 py-3 text-gray-700 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200" aria-label="Buscar por placa">
                                    <option value="" disabled selected>Selecciona un Vehiculo</option>
                                    
                                </select>
                    
                            </div>
                        </div>
                    <div id="vehicleInfoContainer" class="hidden md:col-span-2 bg-gray-50 p-4 rounded-lg">
                        <h3 class="text-lg font-semibold text-gray-800 mb-3">Informacion del Vehiculo</h3>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Modelo del vehiculo</label>
                                <div id="vehicle-model" class="px-4 py-2 bg-white border border-gray-200 rounded-md text-gray-700">


                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Ano del vehiculo</label>
                                <div id="vehicle-year" class="px-4 py-2 bg-white border border-gray-200 rounded-md text-gray-700">


                                </div>
                            </div>
                        </div>
                        <div id="errorMessages" class="mt-4 text-red-600 text-sm hidden">
                
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2" for="deadline">Fecha de inicio</label>
                        <input type="datetime-local" id="deadline" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500" required>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2" for="estimated-completion">Fecha estimada de finalización</label>
                        <input type="datetime-local" id="estimated-completion" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500" required>
                    </div>
                </div>

        
                <div class="space-y-4">
                    <label class="block text-sm font-medium text-gray-700">Categorias de las Tareas</label>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                        <div class="space-y-2">
                            <label class="flex items-center space-x-2 group relative cursor-pointer" title="Includes electrical system repairs, wiring, and battery services">
                                <input type="checkbox" class="w-4 h-4 text-blue-600 rounded focus:ring-blue-500" onchange="toggleCategory('electrical')">
                                <span>Electrico</span>
                                <div class="invisible group-hover:visible absolute bottom-full left-0 mb-2 p-2 bg-gray-800 text-white text-xs rounded shadow-lg w-48">Reparacion de sistemas electricos, cableado, servicios de bateria</div>
                            </label>
                            <div id="electrical-section" class="hidden space-y-2">
                                <select id="mechanic-1"  class="w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                    <option value="">Selecciona un mecanico</option>
                                </select>
                                <textarea id="electrical-textarea" class="w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Ingresa especificaciones" rows="3"></textarea>
                            </div>
                        </div>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-2 group relative cursor-pointer" title="Includes engine repairs, transmission work, and brake services">
                                <input type="checkbox" class="w-4 h-4 text-blue-600 rounded focus:ring-blue-500" onchange="toggleCategory('mechanical')">
                                <span>Mecanica</span>
                                <div class="invisible group-hover:visible absolute bottom-full left-0 mb-2 p-2 bg-gray-800 text-white text-xs rounded shadow-lg w-48">Reparacion de motor, trabajo de transmision, servicio de frenos</div>
                            </label>
                            <div id="mechanical-section" class="hidden space-y-2">
                                <select id="mechanic-2"  class="w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                    <option value="">Selecciona un mecanico</option>
                                </select>
                                <textarea id="mechanical-textarea" class="w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Ingresa especificaciones" rows="3"></textarea>
                            </div>
                        </div>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-2 group relative cursor-pointer" title="Includes fluid systems and radiator repairs">
                                <input type="checkbox" class="w-4 h-4 text-blue-600 rounded focus:ring-blue-500" onchange="toggleCategory('plumbing')">
                                <span>Plomeria</span>
                                <div class="invisible group-hover:visible absolute bottom-full left-0 mb-2 p-2 bg-gray-800 text-white text-xs rounded shadow-lg w-48">Sistema de fluidos y reparaciones de radiador</div>
                            </label>
                            <div id="plumbing-section" class="hidden space-y-2">
                                <select id="mechanic-3"  class="w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                    <option value="">Selecciona un mecanico</option>
                                </select>
                                <textarea id="plumbing-textarea" class="w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Ingresa especificaciones" rows="3"></textarea>
                            </div>
                        </div>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-2 group relative cursor-pointer" title="Includes heating, ventilation, and air conditioning services">
                                <input type="checkbox" class="w-4 h-4 text-blue-600 rounded focus:ring-blue-500" onchange="toggleCategory('hvac')">
                                <span>Aire Acondicionado</span>
                                <div class="invisible group-hover:visible absolute bottom-full left-0 mb-2 p-2 bg-gray-800 text-white text-xs rounded shadow-lg w-48">Calefaccion, ventilacion, servicio de aire acondicionado</div>
                            </label>
                            <div id="hvac-section" class="hidden space-y-2">
                                <select id="mechanic-4"  class="w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                    <option value="">Selecciona un mecanico</option>
                                </select>
                                <textarea id="hvac-textarea" class="w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Ingresa especificaciones" rows="3"></textarea>
                            </div>
                        </div>
                    </div>
                </div>






                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2" for="priority">Prioridad</label>
                    <select id="priority" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500" required>
                        <option value="3">Baja</option>
                        <option value="2">Mediana</option>
                        <option value="1">Alta</option>
                      
                    </select>
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2" for="instructions">Descripcion</label>
                    <textarea id="instructions" rows="4" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Ingresa una descripcion general "></textarea>
                </div>

                <div class="flex justify-end space-x-4">
                    <button type="reset" class="px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500">Limpiar</button>
                    <button type="submit" class="px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500">Asignar Tarea</button>
                </div>
            </form>

          

           <!-- Updated Active Repairs Table -->
           <div class="overflow-x-auto mt-8">
            <table class="min-w-full bg-white border border-gray-200 rounded-lg">
                <thead class="bg-gray-50">
                    <tr>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer">ID ↓</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer">Placa</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer">Mecanicos Asignados</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Categorias</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Tareas</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer">Descripcion</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer">fecha</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer">Status</th>
                    </tr>
                </thead>
                <tbody id="table-reparaciones" class="divide-y divide-gray-200">
                    <!-- <tr>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">#REP001</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">ABC123</td>
                        <td class="px-6 py-4 text-sm text-gray-500">
                            <div class="flex flex-wrap gap-2">
                                <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs">John Doe</span>
                                <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs">Jane Smith</span>
                            </div>
                        </td>
                        <td class="px-6 py-4 text-sm text-gray-500">Engine, Brake</td>
                        <td class="px-6 py-4 text-sm text-gray-500">
                            <div class="space-y-2">
                                <details class="cursor-pointer">
                                    <summary class="font-medium text-blue-600">View Tasks (3)</summary>
                                    <ul class="mt-2 pl-4 list-disc">
                                        <li>Oil Change</li>
                                        <li>Brake Pad Replacement</li>
                                        <li>Engine Diagnostic</li>
                                    </ul>
                                </details>
                            </div>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <span class="px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800">Urgent</span>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Dec 31, 2023</td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <span class="px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800">In Progress</span>
                        </td>
                    </tr> -->
                </tbody>
            </table>
        </div>
              
        </div>
    </div>

    <script src="./reparaciones.js"></script>

</body>
</html>